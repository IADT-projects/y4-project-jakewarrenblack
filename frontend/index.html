<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="./images/logo-01.png">
    <meta name="theme-color" content="#000">
    <link rel="apple-touch-icon" href="./images/logo-01.png">
    <meta name="description" content="Real-time animal identification & deterrence">
    <link rel="manifest" href="./manifest.json">
    <title>RAID</title>
  </head>
  <body>
    <div id="root"></div>
    <!-- register service worker -->
    <script>
      const publicVapidKey = 'BM6G-d8QYWAUCE5C7CKxmSVmEnOgUJzOs-Dml88APJqKoC3Jv9DF2sn9_mTTsz0KHyYArGYkaw4Z7X0fbdKWAKk'

      // Register service worker, register push, send push
      // async function send(){
      //   // Register service worker
      //   console.log('Registering service worker...')
      //   const register = await navigator.serviceWorker.register('/serviceworker.js')
      //   console.log('Service worker registered')
      //
      //   // Register push
      //   console.log('Registering push...')
      //   const subscription = await register.pushManager.subscribe({
      //     userVisibleOnly: true,
      //     applicationServerKey: publicVapidKey
      //   })
      //   console.log('Push registered...')
      //
      //   // Send a push notification
      //   // we send our subscription object to our node backend, via the subscribe route
      //   await fetch('http://localhost:3001/subscribe', {
      //     method: 'POST',
      //     body: JSON.stringify(subscription),
      //     headers: {
      //       'content-type': 'application/json'
      //     }
      //   })
      //
      //   console.log('Push sent')
      //
      // }
      //
      // if('serviceWorker' in navigator){
      //
      //   // find out if we have access to the serviceWorker
      //   window.addEventListener('load', () => {
      //     // enables creation of our own service worker. just points to a js file
      //     navigator.serviceWorker.register('./serviceworker.js')
      //             .then((reg) => console.log('Success: ', reg.scope)) // show url on which service worker was installed
      //             .catch((err) => console.log('Failure: ', err))
      //
      //     send().catch(err => console.error(err))
      //   })
      // }



    </script>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
